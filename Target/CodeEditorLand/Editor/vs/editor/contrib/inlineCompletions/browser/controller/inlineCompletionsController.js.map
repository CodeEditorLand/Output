{
  "version": 3,
  "sources": ["../../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/editor/contrib/inlineCompletions/browser/controller/inlineCompletionsController.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createStyleSheetFromObservable } from '../../../../../base/browser/domObservable.js';\nimport { alert } from '../../../../../base/browser/ui/aria/aria.js';\nimport { timeout } from '../../../../../base/common/async.js';\nimport { cancelOnDispose } from '../../../../../base/common/cancellation.js';\nimport { createHotClass, readHotReloadableExport } from '../../../../../base/common/hotReloadHelpers.js';\nimport { Disposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { ITransaction, autorun, constObservable, derived, derivedDisposable, derivedObservableWithCache, mapObservableArrayCached, observableFromEvent, observableSignal, runOnChange, runOnChangeWithStore, transaction, waitForState } from '../../../../../base/common/observable.js';\nimport { isUndefined } from '../../../../../base/common/types.js';\nimport { localize } from '../../../../../nls.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { hotClassGetOriginalInstance } from '../../../../../platform/observable/common/wrapInHotClass.js';\nimport { CoreEditingCommands } from '../../../../browser/coreCommands.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { observableCodeEditor } from '../../../../browser/observableCodeEditor.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { CursorChangeReason } from '../../../../common/cursorEvents.js';\nimport { ILanguageFeatureDebounceService } from '../../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { InlineCompletionsHintsWidget, InlineSuggestionHintsContentWidget } from '../hintsWidget/inlineCompletionsHintsWidget.js';\nimport { InlineCompletionsModel } from '../model/inlineCompletionsModel.js';\nimport { SuggestWidgetAdaptor } from '../model/suggestWidgetAdaptor.js';\nimport { convertItemsToStableObservables, ObservableContextKeyService } from '../utils.js';\nimport { GhostTextView } from '../view/ghostText/ghostTextView.js';\nimport { InlineEditsViewAndDiffProducer } from '../view/inlineEdits/inlineEditsView.js';\nimport { inlineSuggestCommitId } from './commandIds.js';\nimport { InlineCompletionContextKeys } from './inlineCompletionContextKeys.js';\n\nexport class InlineCompletionsController extends Disposable {\n\tpublic static hot = createHotClass(InlineCompletionsController);\n\n\tstatic ID = 'editor.contrib.inlineCompletionsController';\n\n\tpublic static get(editor: ICodeEditor): InlineCompletionsController | null {\n\t\treturn hotClassGetOriginalInstance(editor.getContribution<InlineCompletionsController>(InlineCompletionsController.ID));\n\t}\n\n\tprivate readonly _editorObs = observableCodeEditor(this.editor);\n\tprivate readonly _positions = derived(this, reader => this._editorObs.selections.read(reader)?.map(s => s.getEndPosition()) ?? [new Position(1, 1)]);\n\n\tprivate readonly _suggestWidgetAdaptor = this._register(new SuggestWidgetAdaptor(\n\t\tthis.editor,\n\t\t() => {\n\t\t\tthis._editorObs.forceUpdate();\n\t\t\treturn this.model.get()?.selectedInlineCompletion.get()?.toSingleTextEdit(undefined);\n\t\t},\n\t\t(item) => this._editorObs.forceUpdate(_tx => {\n\t\t\t/** @description InlineCompletionsController.handleSuggestAccepted */\n\t\t\tthis.model.get()?.handleSuggestAccepted(item);\n\t\t})\n\t));\n\n\tprivate readonly _suggestWidgetSelectedItem = observableFromEvent(this, cb => this._suggestWidgetAdaptor.onDidSelectedItemChange(() => {\n\t\tthis._editorObs.forceUpdate(_tx => cb(undefined));\n\t}), () => this._suggestWidgetAdaptor.selectedItem);\n\n\n\tprivate readonly _enabledInConfig = observableFromEvent(this, this.editor.onDidChangeConfiguration, () => this.editor.getOption(EditorOption.inlineSuggest).enabled);\n\tprivate readonly _isScreenReaderEnabled = observableFromEvent(this, this._accessibilityService.onDidChangeScreenReaderOptimized, () => this._accessibilityService.isScreenReaderOptimized());\n\tprivate readonly _editorDictationInProgress = observableFromEvent(this,\n\t\tthis._contextKeyService.onDidChangeContext,\n\t\t() => this._contextKeyService.getContext(this.editor.getDomNode()).getValue('editorDictation.inProgress') === true\n\t);\n\tprivate readonly _enabled = derived(this, reader => this._enabledInConfig.read(reader) && (!this._isScreenReaderEnabled.read(reader) || !this._editorDictationInProgress.read(reader)));\n\n\tprivate readonly _debounceValue = this._debounceService.for(\n\t\tthis._languageFeaturesService.inlineCompletionsProvider,\n\t\t'InlineCompletionsDebounce',\n\t\t{ min: 50, max: 50 }\n\t);\n\n\tprivate readonly _cursorIsInIndentation = derived(this, reader => {\n\t\tconst cursorPos = this._editorObs.cursorPosition.read(reader);\n\t\tif (cursorPos === null) { return false; }\n\t\tconst model = this._editorObs.model.read(reader);\n\t\tif (!model) { return false; }\n\t\tthis._editorObs.versionId.read(reader);\n\t\tconst indentMaxColumn = model.getLineIndentColumn(cursorPos.lineNumber);\n\t\treturn cursorPos.column <= indentMaxColumn;\n\t});\n\n\tprivate readonly _shouldHideInlineEdit = derived(this, reader => {\n\t\treturn this._cursorIsInIndentation.read(reader);\n\t});\n\n\tpublic readonly model = derivedDisposable<InlineCompletionsModel | undefined>(this, reader => {\n\t\tif (this._editorObs.isReadonly.read(reader)) { return undefined; }\n\t\tconst textModel = this._editorObs.model.read(reader);\n\t\tif (!textModel) { return undefined; }\n\n\t\tconst model: InlineCompletionsModel = this._instantiationService.createInstance(\n\t\t\tInlineCompletionsModel,\n\t\t\ttextModel,\n\t\t\tthis._suggestWidgetSelectedItem,\n\t\t\tthis._editorObs.versionId,\n\t\t\tthis._positions,\n\t\t\tthis._debounceValue,\n\t\t\tobservableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(EditorOption.suggest).preview),\n\t\t\tobservableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(EditorOption.suggest).previewMode),\n\t\t\tobservableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(EditorOption.inlineSuggest).mode),\n\t\t\tthis._enabled,\n\t\t\tthis._shouldHideInlineEdit,\n\t\t);\n\t\treturn model;\n\t}).recomputeInitiallyAndOnChange(this._store);\n\n\tprivate readonly _ghostTexts = derived(this, (reader) => {\n\t\tconst model = this.model.read(reader);\n\t\treturn model?.ghostTexts.read(reader) ?? [];\n\t});\n\tprivate readonly _stablizedGhostTexts = convertItemsToStableObservables(this._ghostTexts, this._store);\n\n\tprivate readonly _ghostTextWidgets = mapObservableArrayCached(this, this._stablizedGhostTexts, (ghostText, store) =>\n\t\tderivedDisposable((reader) =>\n\t\t\tthis._instantiationService.createInstance(readHotReloadableExport(GhostTextView, reader), this.editor, {\n\t\t\t\tghostText: ghostText,\n\t\t\t\tminReservedLineCount: constObservable(0),\n\t\t\t\ttargetTextModel: this.model.map(v => v?.textModel),\n\t\t\t})\n\t\t).recomputeInitiallyAndOnChange(store)\n\t).recomputeInitiallyAndOnChange(this._store);\n\n\tprivate readonly _inlineEdit = derived(this, reader => {\n\t\tconst s = this.model.read(reader)?.state.read(reader);\n\t\tif (s?.kind === 'inlineEdit') {\n\t\t\treturn s.inlineEdit;\n\t\t}\n\t\treturn undefined;\n\t});\n\tprivate readonly _everHadInlineEdit = derivedObservableWithCache<boolean>(this, (reader, last) => last || !!this._inlineEdit.read(reader));\n\tprotected readonly _inlineEditWidget = derivedDisposable(reader => {\n\t\tif (!this._everHadInlineEdit.read(reader)) { return undefined; }\n\t\treturn this._instantiationService.createInstance(InlineEditsViewAndDiffProducer.hot.read(reader), this.editor, this._inlineEdit);\n\t})\n\t\t.recomputeInitiallyAndOnChange(this._store);\n\n\tprivate readonly _playAccessibilitySignal = observableSignal(this);\n\n\tprivate readonly _fontFamily = this._editorObs.getOption(EditorOption.inlineSuggest).map(val => val.fontFamily);\n\tprivate readonly _hideInlineEditOnSelectionChange = this._editorObs.getOption(EditorOption.inlineSuggest).map(val => true);\n\n\tconstructor(\n\t\tpublic readonly editor: ICodeEditor,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@ILanguageFeatureDebounceService private readonly _debounceService: ILanguageFeatureDebounceService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IAccessibilitySignalService private readonly _accessibilitySignalService: IAccessibilitySignalService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(new InlineCompletionContextKeys(this._contextKeyService, this.model));\n\n\t\tthis._register(runOnChange(this._editorObs.onDidType, (_value, _changes) => {\n\t\t\tif (this._enabled.get()) {\n\t\t\t\tthis.model.get()?.trigger();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this._commandService.onDidExecuteCommand((e) => {\n\t\t\t// These commands don't trigger onDidType.\n\t\t\tconst commands = new Set([\n\t\t\t\tCoreEditingCommands.Tab.id,\n\t\t\t\tCoreEditingCommands.DeleteLeft.id,\n\t\t\t\tCoreEditingCommands.DeleteRight.id,\n\t\t\t\tinlineSuggestCommitId,\n\t\t\t\t'acceptSelectedSuggestion',\n\t\t\t]);\n\t\t\tif (commands.has(e.commandId) && editor.hasTextFocus() && this._enabled.get()) {\n\t\t\t\tthis._editorObs.forceUpdate(tx => {\n\t\t\t\t\t/** @description onDidExecuteCommand */\n\t\t\t\t\tthis.model.get()?.trigger(tx);\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(runOnChange(this._editorObs.selections, (_value, _, changes) => {\n\t\t\tif (changes.some(e => e.reason === CursorChangeReason.Explicit || e.source === 'api')) {\n\t\t\t\tif (!this._hideInlineEditOnSelectionChange.get() && this.model.get()?.state.get()?.kind === 'inlineEdit') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst m = this.model.get();\n\t\t\t\tif (!m) { return; }\n\t\t\t\tif (m.inlineCompletionState.get()?.primaryGhostText) {\n\t\t\t\t\tthis.model.get()?.stop();\n\t\t\t\t} else if (m.state.get()?.inlineCompletion) {\n\t\t\t\t\tthis.model.get()?.collapseInlineEdit();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.editor.onDidBlurEditorWidget(() => {\n\t\t\t// This is a hidden setting very useful for debugging\n\t\t\tif (this._contextKeyService.getContextKeyValue<boolean>('accessibleViewIsShown')\n\t\t\t\t|| this._configurationService.getValue('editor.inlineSuggest.keepOnBlur')\n\t\t\t\t|| editor.getOption(EditorOption.inlineSuggest).keepOnBlur\n\t\t\t\t|| InlineSuggestionHintsContentWidget.dropDownVisible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttransaction(tx => {\n\t\t\t\t/** @description InlineCompletionsController.onDidBlurEditorWidget */\n\t\t\t\tthis.model.get()?.stop(tx);\n\t\t\t});\n\t\t}));\n\n\t\tthis._register(autorun(reader => {\n\t\t\t/** @description InlineCompletionsController.forceRenderingAbove */\n\t\t\tconst state = this.model.read(reader)?.inlineCompletionState.read(reader);\n\t\t\tif (state?.suggestItem) {\n\t\t\t\tif (state.primaryGhostText.lineCount >= 2) {\n\t\t\t\t\tthis._suggestWidgetAdaptor.forceRenderingAbove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._suggestWidgetAdaptor.stopForceRenderingAbove();\n\t\t\t}\n\t\t}));\n\t\tthis._register(toDisposable(() => {\n\t\t\tthis._suggestWidgetAdaptor.stopForceRenderingAbove();\n\t\t}));\n\n\t\tconst currentInlineCompletionBySemanticId = derivedObservableWithCache<string | undefined>(this, (reader, last) => {\n\t\t\tconst model = this.model.read(reader);\n\t\t\tconst state = model?.inlineCompletionState.read(reader);\n\t\t\tif (this._suggestWidgetSelectedItem.get()) {\n\t\t\t\treturn last;\n\t\t\t}\n\t\t\treturn state?.inlineCompletion?.semanticId;\n\t\t});\n\t\tthis._register(runOnChangeWithStore(derived(reader => {\n\t\t\tthis._playAccessibilitySignal.read(reader);\n\t\t\tcurrentInlineCompletionBySemanticId.read(reader);\n\t\t\treturn {};\n\t\t}), async (_value, _, _deltas, store) => {\n\t\t\t/** @description InlineCompletionsController.playAccessibilitySignalAndReadSuggestion */\n\t\t\tconst model = this.model.get();\n\t\t\tconst state = model?.inlineCompletionState.get();\n\t\t\tif (!state || !model) { return; }\n\t\t\tconst lineText = model.textModel.getLineContent(state.primaryGhostText.lineNumber);\n\n\t\t\tawait timeout(50, cancelOnDispose(store));\n\t\t\tawait waitForState(this._suggestWidgetSelectedItem, isUndefined, () => false, cancelOnDispose(store));\n\n\t\t\tawait this._accessibilitySignalService.playSignal(AccessibilitySignal.inlineSuggestion);\n\t\t\tif (this.editor.getOption(EditorOption.screenReaderAnnounceInlineSuggestion)) {\n\t\t\t\tthis._provideScreenReaderUpdate(state.primaryGhostText.renderForScreenReader(lineText));\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(new InlineCompletionsHintsWidget(this.editor, this.model, this._instantiationService));\n\n\t\tthis._register(createStyleSheetFromObservable(derived(reader => {\n\t\t\tconst fontFamily = this._fontFamily.read(reader);\n\t\t\tif (fontFamily === '' || fontFamily === 'default') { return ''; }\n\t\t\treturn `\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .ghost-text {\n\tfont-family: ${fontFamily};\n}`;\n\t\t})));\n\n\t\t// TODO@hediet\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('accessibility.verbosity.inlineCompletions')) {\n\t\t\t\tthis.editor.updateOptions({ inlineCompletionsAccessibilityVerbose: this._configurationService.getValue('accessibility.verbosity.inlineCompletions') });\n\t\t\t}\n\t\t}));\n\t\tthis.editor.updateOptions({ inlineCompletionsAccessibilityVerbose: this._configurationService.getValue('accessibility.verbosity.inlineCompletions') });\n\n\t\tconst contextKeySvcObs = new ObservableContextKeyService(this._contextKeyService);\n\n\t\tthis._register(contextKeySvcObs.bind(InlineCompletionContextKeys.cursorInIndentation, this._cursorIsInIndentation));\n\t\tthis._register(contextKeySvcObs.bind(InlineCompletionContextKeys.hasSelection, reader => !this._editorObs.cursorSelection.read(reader)?.isEmpty()));\n\t\tthis._register(contextKeySvcObs.bind(InlineCompletionContextKeys.cursorAtInlineEdit, this.model.map((m, reader) => {\n\t\t\tconst s = m?.state?.read(reader);\n\t\t\treturn s?.kind === 'inlineEdit' && s.cursorAtInlineEdit;\n\t\t})));\n\t}\n\n\tpublic playAccessibilitySignal(tx: ITransaction) {\n\t\tthis._playAccessibilitySignal.trigger(tx);\n\t}\n\n\tprivate _provideScreenReaderUpdate(content: string): void {\n\t\tconst accessibleViewShowing = this._contextKeyService.getContextKeyValue<boolean>('accessibleViewIsShown');\n\t\tconst accessibleViewKeybinding = this._keybindingService.lookupKeybinding('editor.action.accessibleView');\n\t\tlet hint: string | undefined;\n\t\tif (!accessibleViewShowing && accessibleViewKeybinding && this.editor.getOption(EditorOption.inlineCompletionsAccessibilityVerbose)) {\n\t\t\thint = localize('showAccessibleViewHint', \"Inspect this in the accessible view ({0})\", accessibleViewKeybinding.getAriaLabel());\n\t\t}\n\t\talert(hint ? content + ', ' + hint : content);\n\t}\n\n\tpublic shouldShowHoverAt(range: Range) {\n\t\tconst ghostText = this.model.get()?.primaryGhostText.get();\n\t\tif (ghostText) {\n\t\t\treturn ghostText.parts.some(p => range.containsPosition(new Position(ghostText.lineNumber, p.column)));\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic shouldShowHoverAtViewZone(viewZoneId: string): boolean {\n\t\treturn this._ghostTextWidgets.get()[0]?.get().ownsViewZone(viewZoneId) ?? false;\n\t}\n\n\tpublic hide() {\n\t\ttransaction(tx => {\n\t\t\tthis.model.get()?.stop(tx);\n\t\t});\n\t}\n\n\tpublic jump(): void {\n\t\tconst m = this.model.get();\n\t\tconst s = m?.inlineEditState.get();\n\t\tif (!s) { return; }\n\n\t\ttransaction(tx => {\n\t\t\tm!.dontRefetchSignal.trigger(tx);\n\t\t\tthis.editor.setPosition(s.inlineEdit.range.getStartPosition(), 'inlineCompletions.jump');\n\t\t\tthis.editor.revealLine(s.inlineEdit.range.startLineNumber);\n\t\t\tthis.editor.focus();\n\t\t});\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,sCAAsC;AAC/C,SAAS,aAAa;AACtB,SAAS,eAAe;AACxB,SAAS,uBAAuB;AAChC,SAAS,gBAAgB,+BAA+B;AACxD,SAAS,YAAY,oBAAoB;AACzC,SAAS,cAAc,SAAS,iBAAiB,SAAS,mBAAmB,4BAA4B,0BAA0B,qBAAqB,kBAAkB,aAAa,sBAAsB,aAAa,oBAAoB;AAC9O,SAAS,mBAAmB;AAC5B,SAAS,gBAAgB;AACzB,SAAS,6BAA6B;AACtC,SAAS,qBAAqB,mCAAmC;AACjE,SAAS,uBAAuB;AAChC,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC,SAAS,6BAA6B;AACtC,SAAS,0BAA0B;AACnC,SAAS,mCAAmC;AAC5C,SAAS,2BAA2B;AACpC,SAAS,mBAAmB;AAC5B,SAAS,4BAA4B;AACrC,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;AACzB,SAAS,aAAa;AACtB,SAAS,0BAA0B;AACnC,SAAS,uCAAuC;AAChD,SAAS,gCAAgC;AACzC,SAAS,8BAA8B,0CAA0C;AACjF,SAAS,8BAA8B;AACvC,SAAS,4BAA4B;AACrC,SAAS,iCAAiC,mCAAmC;AAC7E,SAAS,qBAAqB;AAC9B,SAAS,sCAAsC;AAC/C,SAAS,6BAA6B;AACtC,SAAS,mCAAmC;AAErC,IAAM,8BAAN,cAA0C,WAAW;AAAA,EAiH3D,YACiB,QACwB,uBACH,oBACG,uBACN,iBACgB,kBACP,0BACG,6BACT,oBACG,uBACvC;AACD,UAAM;AAXU;AACwB;AACH;AACG;AACN;AACgB;AACP;AACG;AACT;AACG;AAIxC,SAAK,UAAU,IAAI,4BAA4B,KAAK,oBAAoB,KAAK,KAAK,CAAC;AAEnF,SAAK,UAAU,YAAY,KAAK,WAAW,WAAW,CAAC,QAAQ,aAAa;AAC3E,UAAI,KAAK,SAAS,IAAI,GAAG;AACxB,aAAK,MAAM,IAAI,GAAG,QAAQ;AAAA,MAC3B;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,UAAU,KAAK,gBAAgB,oBAAoB,CAAC,MAAM;AAE9D,YAAM,WAAW,oBAAI,IAAI;AAAA,QACxB,oBAAoB,IAAI;AAAA,QACxB,oBAAoB,WAAW;AAAA,QAC/B,oBAAoB,YAAY;AAAA,QAChC;AAAA,QACA;AAAA,MACD,CAAC;AACD,UAAI,SAAS,IAAI,EAAE,SAAS,KAAK,OAAO,aAAa,KAAK,KAAK,SAAS,IAAI,GAAG;AAC9E,aAAK,WAAW,YAAY,QAAM;AAEjC,eAAK,MAAM,IAAI,GAAG,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAAA,MACF;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,UAAU,YAAY,KAAK,WAAW,YAAY,CAAC,QAAQ,GAAG,YAAY;AAC9E,UAAI,QAAQ,KAAK,OAAK,EAAE,WAAW,mBAAmB,YAAY,EAAE,WAAW,KAAK,GAAG;AACtF,YAAI,CAAC,KAAK,iCAAiC,IAAI,KAAK,KAAK,MAAM,IAAI,GAAG,MAAM,IAAI,GAAG,SAAS,cAAc;AACzG;AAAA,QACD;AACA,cAAM,IAAI,KAAK,MAAM,IAAI;AACzB,YAAI,CAAC,GAAG;AAAE;AAAA,QAAQ;AAClB,YAAI,EAAE,sBAAsB,IAAI,GAAG,kBAAkB;AACpD,eAAK,MAAM,IAAI,GAAG,KAAK;AAAA,QACxB,WAAW,EAAE,MAAM,IAAI,GAAG,kBAAkB;AAC3C,eAAK,MAAM,IAAI,GAAG,mBAAmB;AAAA,QACtC;AAAA,MACD;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,UAAU,KAAK,OAAO,sBAAsB,MAAM;AAEtD,UAAI,KAAK,mBAAmB,mBAA4B,uBAAuB,KAC3E,KAAK,sBAAsB,SAAS,iCAAiC,KACrE,OAAO,UAAU,aAAa,aAAa,EAAE,cAC7C,mCAAmC,iBAAiB;AACvD;AAAA,MACD;AAEA,kBAAY,QAAM;AAEjB,aAAK,MAAM,IAAI,GAAG,KAAK,EAAE;AAAA,MAC1B,CAAC;AAAA,IACF,CAAC,CAAC;AAEF,SAAK,UAAU,QAAQ,YAAU;AAEhC,YAAM,QAAQ,KAAK,MAAM,KAAK,MAAM,GAAG,sBAAsB,KAAK,MAAM;AACxE,UAAI,OAAO,aAAa;AACvB,YAAI,MAAM,iBAAiB,aAAa,GAAG;AAC1C,eAAK,sBAAsB,oBAAoB;AAAA,QAChD;AAAA,MACD,OAAO;AACN,aAAK,sBAAsB,wBAAwB;AAAA,MACpD;AAAA,IACD,CAAC,CAAC;AACF,SAAK,UAAU,aAAa,MAAM;AACjC,WAAK,sBAAsB,wBAAwB;AAAA,IACpD,CAAC,CAAC;AAEF,UAAM,sCAAsC,2BAA+C,MAAM,CAAC,QAAQ,SAAS;AAClH,YAAM,QAAQ,KAAK,MAAM,KAAK,MAAM;AACpC,YAAM,QAAQ,OAAO,sBAAsB,KAAK,MAAM;AACtD,UAAI,KAAK,2BAA2B,IAAI,GAAG;AAC1C,eAAO;AAAA,MACR;AACA,aAAO,OAAO,kBAAkB;AAAA,IACjC,CAAC;AACD,SAAK,UAAU,qBAAqB,QAAQ,YAAU;AACrD,WAAK,yBAAyB,KAAK,MAAM;AACzC,0CAAoC,KAAK,MAAM;AAC/C,aAAO,CAAC;AAAA,IACT,CAAC,GAAG,OAAO,QAAQ,GAAG,SAAS,UAAU;AAExC,YAAM,QAAQ,KAAK,MAAM,IAAI;AAC7B,YAAM,QAAQ,OAAO,sBAAsB,IAAI;AAC/C,UAAI,CAAC,SAAS,CAAC,OAAO;AAAE;AAAA,MAAQ;AAChC,YAAM,WAAW,MAAM,UAAU,eAAe,MAAM,iBAAiB,UAAU;AAEjF,YAAM,QAAQ,IAAI,gBAAgB,KAAK,CAAC;AACxC,YAAM,aAAa,KAAK,4BAA4B,aAAa,MAAM,OAAO,gBAAgB,KAAK,CAAC;AAEpG,YAAM,KAAK,4BAA4B,WAAW,oBAAoB,gBAAgB;AACtF,UAAI,KAAK,OAAO,UAAU,aAAa,oCAAoC,GAAG;AAC7E,aAAK,2BAA2B,MAAM,iBAAiB,sBAAsB,QAAQ,CAAC;AAAA,MACvF;AAAA,IACD,CAAC,CAAC;AAEF,SAAK,UAAU,IAAI,6BAA6B,KAAK,QAAQ,KAAK,OAAO,KAAK,qBAAqB,CAAC;AAEpG,SAAK,UAAU,+BAA+B,QAAQ,YAAU;AAC/D,YAAM,aAAa,KAAK,YAAY,KAAK,MAAM;AAC/C,UAAI,eAAe,MAAM,eAAe,WAAW;AAAE,eAAO;AAAA,MAAI;AAChE,aAAO;AAAA;AAAA;AAAA;AAAA,gBAIM,UAAU;AAAA;AAAA,IAExB,CAAC,CAAC,CAAC;AAGH,SAAK,UAAU,KAAK,sBAAsB,yBAAyB,OAAK;AACvE,UAAI,EAAE,qBAAqB,2CAA2C,GAAG;AACxE,aAAK,OAAO,cAAc,EAAE,uCAAuC,KAAK,sBAAsB,SAAS,2CAA2C,EAAE,CAAC;AAAA,MACtJ;AAAA,IACD,CAAC,CAAC;AACF,SAAK,OAAO,cAAc,EAAE,uCAAuC,KAAK,sBAAsB,SAAS,2CAA2C,EAAE,CAAC;AAErJ,UAAM,mBAAmB,IAAI,4BAA4B,KAAK,kBAAkB;AAEhF,SAAK,UAAU,iBAAiB,KAAK,4BAA4B,qBAAqB,KAAK,sBAAsB,CAAC;AAClH,SAAK,UAAU,iBAAiB,KAAK,4BAA4B,cAAc,YAAU,CAAC,KAAK,WAAW,gBAAgB,KAAK,MAAM,GAAG,QAAQ,CAAC,CAAC;AAClJ,SAAK,UAAU,iBAAiB,KAAK,4BAA4B,oBAAoB,KAAK,MAAM,IAAI,CAAC,GAAG,WAAW;AAClH,YAAM,IAAI,GAAG,OAAO,KAAK,MAAM;AAC/B,aAAO,GAAG,SAAS,gBAAgB,EAAE;AAAA,IACtC,CAAC,CAAC,CAAC;AAAA,EACJ;AAAA,EAtSD,OAwC4D;AAAA;AAAA;AAAA,EAC3D,OAAc,MAAM,eAAe,2BAA2B;AAAA,EAE9D,OAAO,KAAK;AAAA,EAEZ,OAAc,IAAI,QAAyD;AAC1E,WAAO,4BAA4B,OAAO,gBAA6C,4BAA4B,EAAE,CAAC;AAAA,EACvH;AAAA,EAEiB,aAAa,qBAAqB,KAAK,MAAM;AAAA,EAC7C,aAAa,QAAQ,MAAM,YAAU,KAAK,WAAW,WAAW,KAAK,MAAM,GAAG,IAAI,OAAK,EAAE,eAAe,CAAC,KAAK,CAAC,IAAI,SAAS,GAAG,CAAC,CAAC,CAAC;AAAA,EAElI,wBAAwB,KAAK,UAAU,IAAI;AAAA,IAC3D,KAAK;AAAA,IACL,MAAM;AACL,WAAK,WAAW,YAAY;AAC5B,aAAO,KAAK,MAAM,IAAI,GAAG,yBAAyB,IAAI,GAAG,iBAAiB,MAAS;AAAA,IACpF;AAAA,IACA,CAAC,SAAS,KAAK,WAAW,YAAY,SAAO;AAE5C,WAAK,MAAM,IAAI,GAAG,sBAAsB,IAAI;AAAA,IAC7C,CAAC;AAAA,EACF,CAAC;AAAA,EAEgB,6BAA6B,oBAAoB,MAAM,QAAM,KAAK,sBAAsB,wBAAwB,MAAM;AACtI,SAAK,WAAW,YAAY,SAAO,GAAG,MAAS,CAAC;AAAA,EACjD,CAAC,GAAG,MAAM,KAAK,sBAAsB,YAAY;AAAA,EAGhC,mBAAmB,oBAAoB,MAAM,KAAK,OAAO,0BAA0B,MAAM,KAAK,OAAO,UAAU,aAAa,aAAa,EAAE,OAAO;AAAA,EAClJ,yBAAyB,oBAAoB,MAAM,KAAK,sBAAsB,kCAAkC,MAAM,KAAK,sBAAsB,wBAAwB,CAAC;AAAA,EAC1K,6BAA6B;AAAA,IAAoB;AAAA,IACjE,KAAK,mBAAmB;AAAA,IACxB,MAAM,KAAK,mBAAmB,WAAW,KAAK,OAAO,WAAW,CAAC,EAAE,SAAS,4BAA4B,MAAM;AAAA,EAC/G;AAAA,EACiB,WAAW,QAAQ,MAAM,YAAU,KAAK,iBAAiB,KAAK,MAAM,MAAM,CAAC,KAAK,uBAAuB,KAAK,MAAM,KAAK,CAAC,KAAK,2BAA2B,KAAK,MAAM,EAAE;AAAA,EAErK,iBAAiB,KAAK,iBAAiB;AAAA,IACvD,KAAK,yBAAyB;AAAA,IAC9B;AAAA,IACA,EAAE,KAAK,IAAI,KAAK,GAAG;AAAA,EACpB;AAAA,EAEiB,yBAAyB,QAAQ,MAAM,YAAU;AACjE,UAAM,YAAY,KAAK,WAAW,eAAe,KAAK,MAAM;AAC5D,QAAI,cAAc,MAAM;AAAE,aAAO;AAAA,IAAO;AACxC,UAAM,QAAQ,KAAK,WAAW,MAAM,KAAK,MAAM;AAC/C,QAAI,CAAC,OAAO;AAAE,aAAO;AAAA,IAAO;AAC5B,SAAK,WAAW,UAAU,KAAK,MAAM;AACrC,UAAM,kBAAkB,MAAM,oBAAoB,UAAU,UAAU;AACtE,WAAO,UAAU,UAAU;AAAA,EAC5B,CAAC;AAAA,EAEgB,wBAAwB,QAAQ,MAAM,YAAU;AAChE,WAAO,KAAK,uBAAuB,KAAK,MAAM;AAAA,EAC/C,CAAC;AAAA,EAEe,QAAQ,kBAAsD,MAAM,YAAU;AAC7F,QAAI,KAAK,WAAW,WAAW,KAAK,MAAM,GAAG;AAAE,aAAO;AAAA,IAAW;AACjE,UAAM,YAAY,KAAK,WAAW,MAAM,KAAK,MAAM;AACnD,QAAI,CAAC,WAAW;AAAE,aAAO;AAAA,IAAW;AAEpC,UAAM,QAAgC,KAAK,sBAAsB;AAAA,MAChE;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL,KAAK,WAAW;AAAA,MAChB,KAAK;AAAA,MACL,KAAK;AAAA,MACL,oBAAoB,KAAK,OAAO,0BAA0B,MAAM,KAAK,OAAO,UAAU,aAAa,OAAO,EAAE,OAAO;AAAA,MACnH,oBAAoB,KAAK,OAAO,0BAA0B,MAAM,KAAK,OAAO,UAAU,aAAa,OAAO,EAAE,WAAW;AAAA,MACvH,oBAAoB,KAAK,OAAO,0BAA0B,MAAM,KAAK,OAAO,UAAU,aAAa,aAAa,EAAE,IAAI;AAAA,MACtH,KAAK;AAAA,MACL,KAAK;AAAA,IACN;AACA,WAAO;AAAA,EACR,CAAC,EAAE,8BAA8B,KAAK,MAAM;AAAA,EAE3B,cAAc,QAAQ,MAAM,CAAC,WAAW;AACxD,UAAM,QAAQ,KAAK,MAAM,KAAK,MAAM;AACpC,WAAO,OAAO,WAAW,KAAK,MAAM,KAAK,CAAC;AAAA,EAC3C,CAAC;AAAA,EACgB,uBAAuB,gCAAgC,KAAK,aAAa,KAAK,MAAM;AAAA,EAEpF,oBAAoB;AAAA,IAAyB;AAAA,IAAM,KAAK;AAAA,IAAsB,CAAC,WAAW,UAC1G;AAAA,MAAkB,CAAC,WAClB,KAAK,sBAAsB,eAAe,wBAAwB,eAAe,MAAM,GAAG,KAAK,QAAQ;AAAA,QACtG;AAAA,QACA,sBAAsB,gBAAgB,CAAC;AAAA,QACvC,iBAAiB,KAAK,MAAM,IAAI,OAAK,GAAG,SAAS;AAAA,MAClD,CAAC;AAAA,IACF,EAAE,8BAA8B,KAAK;AAAA,EACtC,EAAE,8BAA8B,KAAK,MAAM;AAAA,EAE1B,cAAc,QAAQ,MAAM,YAAU;AACtD,UAAM,IAAI,KAAK,MAAM,KAAK,MAAM,GAAG,MAAM,KAAK,MAAM;AACpD,QAAI,GAAG,SAAS,cAAc;AAC7B,aAAO,EAAE;AAAA,IACV;AACA,WAAO;AAAA,EACR,CAAC;AAAA,EACgB,qBAAqB,2BAAoC,MAAM,CAAC,QAAQ,SAAS,QAAQ,CAAC,CAAC,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,EACtH,oBAAoB,kBAAkB,YAAU;AAClE,QAAI,CAAC,KAAK,mBAAmB,KAAK,MAAM,GAAG;AAAE,aAAO;AAAA,IAAW;AAC/D,WAAO,KAAK,sBAAsB,eAAe,+BAA+B,IAAI,KAAK,MAAM,GAAG,KAAK,QAAQ,KAAK,WAAW;AAAA,EAChI,CAAC,EACC,8BAA8B,KAAK,MAAM;AAAA,EAE1B,2BAA2B,iBAAiB,IAAI;AAAA,EAEhD,cAAc,KAAK,WAAW,UAAU,aAAa,aAAa,EAAE,IAAI,SAAO,IAAI,UAAU;AAAA,EAC7F,mCAAmC,KAAK,WAAW,UAAU,aAAa,aAAa,EAAE,IAAI,SAAO,IAAI;AAAA,EAiJlH,wBAAwB,IAAkB;AAChD,SAAK,yBAAyB,QAAQ,EAAE;AAAA,EACzC;AAAA,EAEQ,2BAA2B,SAAuB;AACzD,UAAM,wBAAwB,KAAK,mBAAmB,mBAA4B,uBAAuB;AACzG,UAAM,2BAA2B,KAAK,mBAAmB,iBAAiB,8BAA8B;AACxG,QAAI;AACJ,QAAI,CAAC,yBAAyB,4BAA4B,KAAK,OAAO,UAAU,aAAa,qCAAqC,GAAG;AACpI,aAAO,SAAS,0BAA0B,6CAA6C,yBAAyB,aAAa,CAAC;AAAA,IAC/H;AACA,UAAM,OAAO,UAAU,OAAO,OAAO,OAAO;AAAA,EAC7C;AAAA,EAEO,kBAAkB,OAAc;AACtC,UAAM,YAAY,KAAK,MAAM,IAAI,GAAG,iBAAiB,IAAI;AACzD,QAAI,WAAW;AACd,aAAO,UAAU,MAAM,KAAK,OAAK,MAAM,iBAAiB,IAAI,SAAS,UAAU,YAAY,EAAE,MAAM,CAAC,CAAC;AAAA,IACtG;AACA,WAAO;AAAA,EACR;AAAA,EAEO,0BAA0B,YAA6B;AAC7D,WAAO,KAAK,kBAAkB,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,aAAa,UAAU,KAAK;AAAA,EAC3E;AAAA,EAEO,OAAO;AACb,gBAAY,QAAM;AACjB,WAAK,MAAM,IAAI,GAAG,KAAK,EAAE;AAAA,IAC1B,CAAC;AAAA,EACF;AAAA,EAEO,OAAa;AACnB,UAAM,IAAI,KAAK,MAAM,IAAI;AACzB,UAAM,IAAI,GAAG,gBAAgB,IAAI;AACjC,QAAI,CAAC,GAAG;AAAE;AAAA,IAAQ;AAElB,gBAAY,QAAM;AACjB,QAAG,kBAAkB,QAAQ,EAAE;AAC/B,WAAK,OAAO,YAAY,EAAE,WAAW,MAAM,iBAAiB,GAAG,wBAAwB;AACvF,WAAK,OAAO,WAAW,EAAE,WAAW,MAAM,eAAe;AACzD,WAAK,OAAO,MAAM;AAAA,IACnB,CAAC;AAAA,EACF;AACD;AA5Sa,8BAAN;AAAA,EAmHJ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,GA3HU;",
  "names": []
}
