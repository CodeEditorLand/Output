import{$ as c}from"../../../../../base/browser/dom.js";import{alert as I}from"../../../../../base/browser/ui/aria/aria.js";import{Codicon as m}from"../../../../../base/common/codicons.js";import{MarkdownString as f}from"../../../../../base/common/htmlContent.js";import{Disposable as g}from"../../../../../base/common/lifecycle.js";import{ThemeIcon as u}from"../../../../../base/common/themables.js";import"../../../../../editor/browser/widget/markdownRenderer/browser/markdownRenderer.js";import"../chat.js";import"./chatContentParts.js";import"../../common/chatService.js";import{isResponseVM as w}from"../../common/chatViewModel.js";class j extends g{domNode;showSpinner;isHidden;constructor(e,n,t,o,r,i){super();const a=t.content.slice(t.contentIndex+1);if(this.showSpinner=o??h(a,t.element),this.isHidden=r!==!0&&a.some(l=>l.kind!=="progressMessage"),this.isHidden){this.domNode=c("");return}this.showSpinner&&I(e.content.value);const p=i?i.id:this.showSpinner?u.modify(m.loading,"spin").id:m.check.id,C=new f(`$(${p}) ${e.content.value}`,{supportThemeIcons:!0}),d=this._register(n.render(C));d.element.classList.add("progress-step"),this.domNode=d.element}hasSameContent(e,n,t){if(n.some(r=>r.kind!=="progressMessage")&&!this.isHidden)return!1;const o=h(n,t);return e.kind==="progressMessage"&&this.showSpinner===o}}function h(s,e){return w(e)&&!e.isComplete&&s.length===0}export{j as ChatProgressContentPart};
