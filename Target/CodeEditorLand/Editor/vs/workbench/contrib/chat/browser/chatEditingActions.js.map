{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/workbench/contrib/chat/browser/chatEditingActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { ResourceSet } from '../../../../base/common/map.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService } from '../../../../platform/list/browser/listService.js';\nimport { GroupsOrder, IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ChatAgentLocation } from '../common/chatAgents.js';\nimport { CONTEXT_CHAT_LOCATION, CONTEXT_CHAT_REQUEST_IN_PROGRESS, CONTEXT_IN_CHAT_INPUT, CONTEXT_IN_CHAT_SESSION, CONTEXT_REQUEST, CONTEXT_RESPONSE } from '../common/chatContextKeys.js';\nimport { applyingChatEditsContextKey, CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME, chatEditingResourceContextKey, chatEditingWidgetFileStateContextKey, decidedChatEditingResourceContextKey, IChatEditingService, IChatEditingSession, inChatEditingSessionContextKey, isChatRequestCheckpointed, WorkingSetEntryState } from '../common/chatEditingService.js';\nimport { IChatService } from '../common/chatService.js';\nimport { isRequestVM, isResponseVM } from '../common/chatViewModel.js';\nimport { CHAT_CATEGORY } from './actions/chatActions.js';\nimport { ChatTreeItem, IChatWidget, IChatWidgetService } from './chat.js';\n\nabstract class WorkingSetAction extends Action2 {\n\trun(accessor: ServicesAccessor, ...args: any[]) {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst currentEditingSession = chatEditingService.currentEditingSession;\n\t\tif (!currentEditingSession) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst chatWidget = accessor.get(IChatWidgetService).lastFocusedWidget;\n\t\tif (chatWidget?.location !== ChatAgentLocation.EditingSession) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst uris: URI[] = [];\n\t\tif (URI.isUri(args[0])) {\n\t\t\turis.push(args[0]);\n\t\t} else if (chatWidget) {\n\t\t\turis.push(...chatWidget.input.selectedElements);\n\t\t}\n\t\tif (!uris.length) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this.runWorkingSetAction(accessor, currentEditingSession, chatWidget, ...uris);\n\t}\n\n\tabstract runWorkingSetAction(accessor: ServicesAccessor, currentEditingSession: IChatEditingSession, chatWidget: IChatWidget | undefined, ...uris: URI[]): any;\n}\n\n\nregisterAction2(class RemoveFileFromWorkingSet extends WorkingSetAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditing.removeFileFromWorkingSet',\n\t\t\ttitle: localize2('removeFileFromWorkingSet', 'Remove File'),\n\t\t\ticon: Codicon.close,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ChatEditingSessionWidgetToolbar,\n\t\t\t\twhen: ContextKeyExpr.or(ContextKeyExpr.equals(chatEditingWidgetFileStateContextKey.key, WorkingSetEntryState.Attached), ContextKeyExpr.equals(chatEditingWidgetFileStateContextKey.key, WorkingSetEntryState.Transient)),\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation'\n\t\t\t}],\n\t\t});\n\t}\n\n\tasync runWorkingSetAction(accessor: ServicesAccessor, currentEditingSession: IChatEditingSession, chatWidget: IChatWidget, ...uris: URI[]): Promise<void> {\n\t\t// Remove from working set\n\t\tcurrentEditingSession.remove(...uris);\n\n\t\t// Remove from chat input part\n\t\tconst resourceSet = new ResourceSet(uris);\n\t\tconst newContext = [];\n\n\t\tfor (const context of chatWidget.input.attachmentModel.attachments) {\n\t\t\tif (!URI.isUri(context.value) || !context.isFile || !resourceSet.has(context.value)) {\n\t\t\t\tnewContext.push(context);\n\t\t\t}\n\t\t}\n\n\t\tchatWidget.attachmentModel.clearAndSetContext(...newContext);\n\t}\n});\n\nregisterAction2(class OpenFileInDiffAction extends WorkingSetAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditing.openFileInDiff',\n\t\t\ttitle: localize2('open.fileInDiff', 'Open Changes in Diff Editor'),\n\t\t\ticon: Codicon.diffSingle,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ChatEditingSessionWidgetToolbar,\n\t\t\t\twhen: ContextKeyExpr.equals(chatEditingWidgetFileStateContextKey.key, WorkingSetEntryState.Modified),\n\t\t\t\torder: 2,\n\t\t\t\tgroup: 'navigation'\n\t\t\t}],\n\t\t});\n\t}\n\n\tasync runWorkingSetAction(accessor: ServicesAccessor, currentEditingSession: IChatEditingSession, _chatWidget: IChatWidget, ...uris: URI[]): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tfor (const uri of uris) {\n\t\t\tconst editedFile = currentEditingSession.entries.get().find((e) => e.modifiedURI.toString() === uri.toString());\n\t\t\tif (editedFile?.state.get() === WorkingSetEntryState.Modified) {\n\t\t\t\tawait editorService.openEditor({\n\t\t\t\t\toriginal: { resource: URI.from(editedFile.originalURI, true) },\n\t\t\t\t\tmodified: { resource: URI.from(editedFile.modifiedURI, true) },\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait editorService.openEditor({ resource: uri });\n\t\t\t}\n\t\t}\n\t}\n});\n\nregisterAction2(class AcceptAction extends WorkingSetAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditing.acceptFile',\n\t\t\ttitle: localize2('accept.file', 'Accept'),\n\t\t\ticon: Codicon.check,\n\t\t\tmenu: [{\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('resourceScheme', CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME), ContextKeyExpr.notIn(chatEditingResourceContextKey.key, decidedChatEditingResourceContextKey.key)),\n\t\t\t\tid: MenuId.MultiDiffEditorFileToolbar,\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation',\n\t\t\t}, {\n\t\t\t\tid: MenuId.ChatEditingSessionWidgetToolbar,\n\t\t\t\twhen: ContextKeyExpr.equals(chatEditingWidgetFileStateContextKey.key, WorkingSetEntryState.Modified),\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation'\n\t\t\t}],\n\t\t});\n\t}\n\n\tasync runWorkingSetAction(accessor: ServicesAccessor, currentEditingSession: IChatEditingSession, chatWidget: IChatWidget, ...uris: URI[]): Promise<void> {\n\t\tawait currentEditingSession.accept(...uris);\n\t}\n});\n\nregisterAction2(class DiscardAction extends WorkingSetAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditing.discardFile',\n\t\t\ttitle: localize2('discard.file', 'Discard'),\n\t\t\ticon: Codicon.discard,\n\t\t\tmenu: [{\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('resourceScheme', CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME), ContextKeyExpr.notIn(chatEditingResourceContextKey.key, decidedChatEditingResourceContextKey.key)),\n\t\t\t\tid: MenuId.MultiDiffEditorFileToolbar,\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation',\n\t\t\t}, {\n\t\t\t\tid: MenuId.ChatEditingSessionWidgetToolbar,\n\t\t\t\twhen: ContextKeyExpr.equals(chatEditingWidgetFileStateContextKey.key, WorkingSetEntryState.Modified),\n\t\t\t\torder: 1,\n\t\t\t\tgroup: 'navigation'\n\t\t\t}],\n\t\t});\n\t}\n\n\tasync runWorkingSetAction(accessor: ServicesAccessor, currentEditingSession: IChatEditingSession, chatWidget: IChatWidget, ...uris: URI[]): Promise<void> {\n\t\tawait currentEditingSession.reject(...uris);\n\t}\n});\n\nexport class ChatEditingAcceptAllAction extends Action2 {\n\tstatic readonly ID = 'chatEditing.acceptAllFiles';\n\tstatic readonly LABEL = localize('accept.allFiles', 'Accept All');\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ChatEditingAcceptAllAction.ID,\n\t\t\ttitle: ChatEditingAcceptAllAction.LABEL,\n\t\t\t// icon: Codicon.goToFile,\n\t\t\tmenu: {\n\t\t\t\twhen: ContextKeyExpr.equals('resourceScheme', CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME),\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation',\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: any[]): Promise<void> {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst currentEditingSession = chatEditingService.currentEditingSession;\n\t\tif (!currentEditingSession) {\n\t\t\treturn;\n\t\t}\n\t\tawait currentEditingSession.accept();\n\t}\n}\nregisterAction2(ChatEditingAcceptAllAction);\n\nexport class ChatEditingDiscardAllAction extends Action2 {\n\tstatic readonly ID = 'chatEditing.discardAllFiles';\n\tstatic readonly LABEL = localize('discard.allFiles', 'Discard All');\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ChatEditingDiscardAllAction.ID,\n\t\t\ttitle: ChatEditingDiscardAllAction.LABEL,\n\t\t\t// icon: Codicon.goToFile,\n\t\t\tmenu: {\n\t\t\t\twhen: ContextKeyExpr.equals('resourceScheme', CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME),\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\torder: 0,\n\t\t\t\tgroup: 'navigation',\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: any[]): Promise<void> {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst currentEditingSession = chatEditingService.currentEditingSession;\n\t\tif (!currentEditingSession) {\n\t\t\treturn;\n\t\t}\n\t\tawait currentEditingSession.reject();\n\t}\n}\nregisterAction2(ChatEditingDiscardAllAction);\n\nexport class ChatEditingShowChangesAction extends Action2 {\n\tstatic readonly ID = 'chatEditing.openDiffs';\n\tstatic readonly LABEL = localize('chatEditing.openDiffs', 'Open Diffs');\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ChatEditingShowChangesAction.ID,\n\t\t\ttitle: ChatEditingShowChangesAction.LABEL,\n\t\t\tf1: false\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: any[]): Promise<void> {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst currentEditingSession = chatEditingService.currentEditingSession;\n\t\tif (!currentEditingSession) {\n\t\t\treturn;\n\t\t}\n\t\tawait currentEditingSession.show();\n\t}\n}\nregisterAction2(ChatEditingShowChangesAction);\n\nregisterAction2(class AddFilesToWorkingSetAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.chat.addFilesToWorkingSet',\n\t\t\ttitle: localize2('workbench.action.chat.addFilesToWorkingSet.label', \"Add Files to Working Set\"),\n\t\t\ticon: Codicon.attach,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tprecondition: inChatEditingSessionContextKey,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, ...args: any[]): Promise<void> {\n\t\tconst listService = accessor.get(IListService);\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\n\t\tconst uris: URI[] = [];\n\n\t\tfor (const group of editorGroupService.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE)) {\n\t\t\tfor (const selection of group.selectedEditors) {\n\t\t\t\tif (selection.resource) {\n\t\t\t\t\turis.push(selection.resource);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (uris.length === 0) {\n\t\t\tconst selection = listService.lastFocusedList?.getSelection();\n\t\t\tif (selection?.length) {\n\t\t\t\tfor (const file of selection) {\n\t\t\t\t\tif (!!file && typeof file === 'object' && 'resource' in file && URI.isUri(file.resource)) {\n\t\t\t\t\t\turis.push(file.resource);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const file of uris) {\n\t\t\tawait chatEditingService?.addFileToWorkingSet(file);\n\t\t}\n\t}\n});\n\n\nregisterAction2(class RestoreWorkingSetAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.chat.restoreWorkingSet',\n\t\t\ttitle: localize2('chat.restoreWorkingSet.label', 'Restore Working Set'),\n\t\t\tf1: false,\n\t\t\tshortTitle: localize2('chat.restoreWorkingSet.shortTitle', 'Restore Working Set'),\n\t\t\ttoggled: {\n\t\t\t\tcondition: isChatRequestCheckpointed,\n\t\t\t\ttitle: localize2('chat.restoreWorkingSet.title', 'Using Working Set').value,\n\t\t\t\ttooltip: localize2('chat.restoreWorkingSet.tooltip', 'Toggle to use the working set state from an earlier request in your next edit').value\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(applyingChatEditsContextKey.negate(), CONTEXT_CHAT_REQUEST_IN_PROGRESS.negate()),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1000,\n\t\t\t\twhen: ContextKeyExpr.false()\n\t\t\t\t// when: ContextKeyExpr.and(CONTEXT_CHAT_LOCATION.isEqualTo(ChatAgentLocation.EditingSession), CONTEXT_RESPONSE, ContextKeyExpr.notIn(CONTEXT_ITEM_ID.key, CONTEXT_LAST_ITEM_ID.key))\n\t\t\t}\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: any[]): void {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst item = args[0];\n\t\tif (!isResponseVM(item)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { session, requestId } = item.model;\n\t\tconst shouldUnsetCheckpoint = requestId === session.checkpoint?.id;\n\t\tif (shouldUnsetCheckpoint) {\n\t\t\t// Unset the existing checkpoint\n\t\t\tsession.setCheckpoint(undefined);\n\t\t} else {\n\t\t\tsession.setCheckpoint(requestId);\n\t\t}\n\n\t\t// The next request is associated with the working set snapshot representing\n\t\t// the 'good state' from this checkpointed request\n\t\tconst chatService = accessor.get(IChatService);\n\t\tconst chatModel = chatService.getSession(item.sessionId);\n\t\tconst chatRequests = chatModel?.getRequests();\n\t\tconst snapshot = chatRequests?.find((v, i) => i > 0 && chatRequests[i - 1]?.id === requestId);\n\t\tif (!shouldUnsetCheckpoint && snapshot !== undefined) {\n\t\t\tchatEditingService.restoreSnapshot(snapshot.id);\n\t\t} else if (shouldUnsetCheckpoint) {\n\t\t\tchatEditingService.restoreSnapshot(undefined);\n\t\t}\n\t}\n});\n\nregisterAction2(class RemoveAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.chat.undoEdits',\n\t\t\ttitle: localize2('chat.undoEdits.label', \"Undo Edits\"),\n\t\t\tf1: false,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: Codicon.discard,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyCode.Delete,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Backspace,\n\t\t\t\t},\n\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_CHAT_LOCATION.isEqualTo(ChatAgentLocation.EditingSession), CONTEXT_IN_CHAT_SESSION, CONTEXT_IN_CHAT_INPUT.negate()),\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 4,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_CHAT_LOCATION.isEqualTo(ChatAgentLocation.EditingSession), CONTEXT_RESPONSE)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ChatMessageTitle,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_CHAT_LOCATION.isEqualTo(ChatAgentLocation.EditingSession), CONTEXT_REQUEST)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: any[]) {\n\t\tlet item: ChatTreeItem | undefined = args[0];\n\t\tif (!isResponseVM(item)) {\n\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\t\tconst widget = chatWidgetService.lastFocusedWidget;\n\t\t\titem = widget?.getFocus();\n\t\t}\n\n\t\tif (!item) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst chatService = accessor.get(IChatService);\n\t\tconst chatModel = chatService.getSession(item.sessionId);\n\t\tif (chatModel?.initialLocation !== ChatAgentLocation.EditingSession) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst requestId = isRequestVM(item) ? item.id :\n\t\t\tisResponseVM(item) ? item.requestId : undefined;\n\n\t\tif (requestId) {\n\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\t\tconst chatRequests = chatModel.getRequests();\n\t\t\tconst itemIndex = chatRequests.findIndex(request => request.id === requestId);\n\t\t\tconst editsToUndo = chatRequests.length - itemIndex;\n\n\t\t\tconst shouldPrompt = configurationService.getValue('chat.editing.confirmEditRequestRemoval') === true;\n\n\t\t\tconst confirmation = shouldPrompt\n\t\t\t\t? await dialogService.confirm({\n\t\t\t\t\ttitle: editsToUndo === 1\n\t\t\t\t\t\t? localize('chat.removeLast.confirmation.title', \"Do you want to undo your last edit?\")\n\t\t\t\t\t\t: localize('chat.remove.confirmation.title', \"Do you want to undo {0} edits?\", editsToUndo),\n\t\t\t\t\tmessage: editsToUndo === 1\n\t\t\t\t\t\t? localize('chat.removeLast.confirmation.message', \"This will remove your last request and undo the edits it made to your working set.\")\n\t\t\t\t\t\t: localize('chat.remove.confirmation.message', \"This will remove all subsequent requests and undo the edits they made to your working set.\"),\n\t\t\t\t\tprimaryButton: localize('chat.remove.confirmation.primaryButton', \"Yes\"),\n\t\t\t\t\tcheckbox: { label: localize('chat.remove.confirmation.checkbox', \"Don't ask again\"), checked: false },\n\t\t\t\t\ttype: 'info'\n\t\t\t\t})\n\t\t\t\t: { confirmed: true };\n\n\t\t\tif (!confirmation.confirmed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (confirmation.checkboxChecked) {\n\t\t\t\tawait configurationService.updateValue('chat.editing.confirmEditRequestRemoval', false);\n\t\t\t}\n\n\t\t\t// Restore the snapshot to what it was before the request(s) that we deleted\n\t\t\tconst snapshotRequestId = chatRequests[itemIndex].id;\n\t\t\tawait chatEditingService.restoreSnapshot(snapshotRequestId);\n\n\t\t\t// Remove the request and all that come after it\n\t\t\tfor (const request of chatRequests.slice(itemIndex)) {\n\t\t\t\tawait chatService.removeRequest(item.sessionId, request.id);\n\t\t\t}\n\t\t}\n\t}\n});\n"],
  "mappings": "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",
  "names": []
}
