import{isCodeEditor as u}from"../../../../editor/browser/editorBrowser.js";import{localize2 as i}from"../../../../nls.js";import"../../../../editor/browser/editorExtensions.js";import{Codicon as c}from"../../../../base/common/codicons.js";import{Action2 as l,MenuId as p,registerAction2 as n}from"../../../../platform/actions/common/actions.js";import{KeybindingWeight as C}from"../../../../platform/keybinding/common/keybindingsRegistry.js";import{KeyCode as m,KeyMod as a}from"../../../../base/common/keyCodes.js";import{CHAT_CATEGORY as g}from"./actions/chatActions.js";import{ChatEditorController as f,ctxHasEditorModification as d}from"./chatEditorController.js";import{ContextKeyExpr as x}from"../../../../platform/contextkey/common/contextkey.js";import{EditorContextKeys as y}from"../../../../editor/common/editorContextKeys.js";import{IEditorService as v}from"../../../services/editor/common/editorService.js";import{IChatEditingService as S}from"../common/chatEditingService.js";class E extends l{constructor(t){super({id:t?"chatEditor.action.navigateNext":"chatEditor.action.navigatePrevious",title:t?i("next","Go to Next Chat Edit"):i("prev","Go to Previous Chat Edit"),category:g,icon:t?c.arrowDown:c.arrowUp,keybinding:{primary:t?a.Alt|m.F5:a.Alt|a.Shift|m.F5,weight:C.EditorContrib,when:x.and(d,y.focus)},f1:!0,menu:{id:p.EditorTitle,group:"navigation",order:t?-100:-101,when:d}});this.next=t}run(t){const r=t.get(v).activeTextEditorControl;u(r)&&(this.next?f.get(r)?.revealNext():f.get(r)?.revealPrevious())}}class h extends l{constructor(t){super({id:t?"chatEditor.action.accept":"chatEditor.action.reject",title:t?i("accept","Accept Chat Edit"):i("reject","Reject Chat Edit"),category:g,icon:t?c.check:c.discard,menu:{id:p.EditorTitle,group:"navigation",order:t?-103:-102,when:d}});this.accept=t}run(t){const r=t.get(S),o=t.get(v).activeTextEditorControl;if(!u(o)||!o.hasModel())return;const s=r.getEditingSession(o.getModel().uri);s&&(this.accept?s.accept(o.getModel().uri):s.reject(o.getModel().uri))}}function Y(){n(class extends E{constructor(){super(!0)}}),n(class extends E{constructor(){super(!1)}}),n(class extends h{constructor(){super(!0)}}),n(class extends h{constructor(){super(!1)}})}export{Y as registerChatEditorActions};
