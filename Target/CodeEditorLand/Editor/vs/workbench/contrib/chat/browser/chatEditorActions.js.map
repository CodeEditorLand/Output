{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/workbench/contrib/chat/browser/chatEditorActions.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isCodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { localize2 } from '../../../../nls.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { CHAT_CATEGORY } from './actions/chatActions.js';\nimport { ChatEditorController, ctxHasEditorModification } from './chatEditorController.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IChatEditingService } from '../common/chatEditingService.js';\n\nabstract class NavigateAction extends Action2 {\n\n\tconstructor(readonly next: boolean) {\n\t\tsuper({\n\t\t\tid: next\n\t\t\t\t? 'chatEditor.action.navigateNext'\n\t\t\t\t: 'chatEditor.action.navigatePrevious',\n\t\t\ttitle: next\n\t\t\t\t? localize2('next', 'Go to Next Chat Edit')\n\t\t\t\t: localize2('prev', 'Go to Previous Chat Edit'),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: next ? Codicon.arrowDown : Codicon.arrowUp,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: next\n\t\t\t\t\t? KeyMod.Alt | KeyCode.F5\n\t\t\t\t\t: KeyMod.Alt | KeyMod.Shift | KeyCode.F5,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: ContextKeyExpr.and(ctxHasEditorModification, EditorContextKeys.focus),\n\t\t\t},\n\t\t\tf1: true,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: next ? -100 : -101,\n\t\t\t\twhen: ctxHasEditorModification\n\t\t\t}\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor) {\n\n\t\tconst editor = accessor.get(IEditorService).activeTextEditorControl;\n\n\t\tif (!isCodeEditor(editor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.next) {\n\t\t\tChatEditorController.get(editor)?.revealNext();\n\t\t} else {\n\t\t\tChatEditorController.get(editor)?.revealPrevious();\n\t\t}\n\t}\n}\n\nabstract class AcceptDiscardAction extends Action2 {\n\n\tconstructor(readonly accept: boolean) {\n\t\tsuper({\n\t\t\tid: accept\n\t\t\t\t? 'chatEditor.action.accept'\n\t\t\t\t: 'chatEditor.action.reject',\n\t\t\ttitle: accept\n\t\t\t\t? localize2('accept', 'Accept Chat Edit')\n\t\t\t\t: localize2('reject', 'Reject Chat Edit'),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: accept\n\t\t\t\t? Codicon.check\n\t\t\t\t: Codicon.discard,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: accept ? -103 : -102,\n\t\t\t\twhen: ctxHasEditorModification\n\t\t\t}\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor) {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst editor = editorService.activeTextEditorControl;\n\t\tif (!isCodeEditor(editor) || !editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst session = chatEditingService.getEditingSession(editor.getModel().uri);\n\t\tif (!session) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.accept) {\n\t\t\tsession.accept(editor.getModel().uri);\n\t\t} else {\n\t\t\tsession.reject(editor.getModel().uri);\n\t\t}\n\t}\n}\n\n\nexport function registerChatEditorActions() {\n\tregisterAction2(class NextAction extends NavigateAction { constructor() { super(true); } });\n\tregisterAction2(class PrevAction extends NavigateAction { constructor() { super(false); } });\n\tregisterAction2(class AcceptAction extends AcceptDiscardAction { constructor() { super(true); } });\n\tregisterAction2(class RejectAction extends AcceptDiscardAction { constructor() { super(false); } });\n}\n"],
  "mappings": "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",
  "names": []
}
