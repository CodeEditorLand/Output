{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/workbench/contrib/chat/browser/chatEditorController.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { binarySearch, coalesceInPlace } from '../../../../base/common/arrays.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor, IViewZone } from '../../../../editor/browser/editorBrowser.js';\nimport { LineSource, renderLines, RenderOptions } from '../../../../editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines.js';\nimport { diffAddDecoration, diffDeleteDecoration, diffWholeLineAddDecoration } from '../../../../editor/browser/widget/diffEditor/registrations.contribution.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { IDocumentDiff } from '../../../../editor/common/diff/documentDiffProvider.js';\nimport { IEditorContribution, ScrollType } from '../../../../editor/common/editorCommon.js';\nimport { IModelDeltaDecoration, ITextModel, TrackedRangeStickiness } from '../../../../editor/common/model.js';\nimport { InlineDecoration, InlineDecorationType } from '../../../../editor/common/viewModel.js';\nimport { ChatEditingSessionState, IChatEditingService, IChatEditingSession, IModifiedFileEntry, WorkingSetEntryState } from '../common/chatEditingService.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { autorun, derived } from '../../../../base/common/observable.js';\nimport { isEqual } from '../../../../base/common/resources.js';\n\nexport const ctxHasEditorModification = new RawContextKey<boolean>('chat.hasEditorModifications', undefined, localize('chat.hasEditorModifications', \"The current editor contains chat modifications\"));\n\nexport class ChatEditorController extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID = 'editor.contrib.chatEditorController';\n\n\tprivate readonly _sessionStore = this._register(new DisposableStore());\n\tprivate readonly _decorations = this._editor.createDecorationsCollection();\n\tprivate _viewZones: string[] = [];\n\tprivate readonly _ctxHasEditorModification: IContextKey<boolean>;\n\n\tstatic get(editor: ICodeEditor): ChatEditorController | null {\n\t\tconst controller = editor.getContribution<ChatEditorController>(ChatEditorController.ID);\n\t\treturn controller;\n\t}\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IChatEditingService private readonly _chatEditingService: IChatEditingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tthis._register(this._editor.onDidChangeModel(() => this._update()));\n\t\tthis._register(this._chatEditingService.onDidChangeEditingSession(() => this._updateSessionDecorations()));\n\t\tthis._register(toDisposable(() => this._clearRendering()));\n\n\t\tthis._ctxHasEditorModification = ctxHasEditorModification.bindTo(contextKeyService);\n\n\t\tthis._register(autorun(r => {\n\n\t\t\tif (this._editor.getOption(EditorOption.inDiffEditor)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst session = this._chatEditingService.currentEditingSessionObs.read(r);\n\t\t\tconst entry = session?.entries.read(r).find(e => isEqual(e.modifiedURI, this._editor.getModel()?.uri));\n\n\t\t\tif (!entry || entry.state.read(r) !== WorkingSetEntryState.Modified) {\n\t\t\t\tthis._clearRendering();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst diff = entry?.diffInfo.read(r);\n\t\t\tthis._updateWithDiff(entry, diff);\n\t\t}));\n\n\t\tconst shouldBeReadOnly = derived(this, r => {\n\t\t\tconst value = this._chatEditingService.currentEditingSessionObs.read(r);\n\t\t\tif (!value || value.state.read(r) !== ChatEditingSessionState.StreamingEdits) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn value.entries.read(r).some(e => isEqual(e.modifiedURI, this._editor.getModel()?.uri));\n\t\t});\n\n\n\t\tlet actualReadonly: boolean | undefined;\n\t\tlet actualDeco: 'off' | 'editable' | 'on' | undefined;\n\n\t\tthis._register(autorun(r => {\n\t\t\tconst value = shouldBeReadOnly.read(r);\n\t\t\tif (value) {\n\t\t\t\tactualReadonly ??= this._editor.getOption(EditorOption.readOnly);\n\t\t\t\tactualDeco ??= this._editor.getOption(EditorOption.renderValidationDecorations);\n\n\t\t\t\tthis._editor.updateOptions({\n\t\t\t\t\treadOnly: true,\n\t\t\t\t\trenderValidationDecorations: 'off'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (actualReadonly !== undefined && actualDeco !== undefined) {\n\t\t\t\t\tthis._editor.updateOptions({\n\t\t\t\t\t\treadOnly: actualReadonly,\n\t\t\t\t\t\trenderValidationDecorations: actualDeco\n\t\t\t\t\t});\n\t\t\t\t\tactualReadonly = undefined;\n\t\t\t\t\tactualDeco = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride dispose(): void {\n\t\tthis._clearRendering();\n\t\tsuper.dispose();\n\t}\n\n\tprivate _update(): void {\n\t\tthis._sessionStore.clear();\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._editor.getOption(EditorOption.inDiffEditor)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._editor.getOption(EditorOption.inDiffEditor)) {\n\t\t\tthis._clearRendering();\n\t\t\treturn;\n\t\t}\n\t\tthis._updateSessionDecorations();\n\t}\n\n\tprivate _updateSessionDecorations(): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\tthis._clearRendering();\n\t\t\treturn;\n\t\t}\n\t\tconst model = this._editor.getModel();\n\t\tconst editingSession = this._chatEditingService.getEditingSession(model.uri);\n\t\tconst entry = this._getEntry(editingSession, model);\n\n\t\tif (!entry || entry.state.get() !== WorkingSetEntryState.Modified) {\n\t\t\tthis._clearRendering();\n\t\t\treturn;\n\t\t}\n\n\t\tconst diff = entry.diffInfo.get();\n\t\tthis._updateWithDiff(entry, diff);\n\t}\n\n\tprivate _getEntry(editingSession: IChatEditingSession | null, model: ITextModel): IModifiedFileEntry | null {\n\t\tif (!editingSession) {\n\t\t\treturn null;\n\t\t}\n\t\treturn editingSession.entries.get().find(e => e.modifiedURI.toString() === model.uri.toString()) || null;\n\t}\n\n\tprivate _clearRendering() {\n\t\tthis._editor.changeViewZones((viewZoneChangeAccessor) => {\n\t\t\tfor (const id of this._viewZones) {\n\t\t\t\tviewZoneChangeAccessor.removeZone(id);\n\t\t\t}\n\t\t});\n\t\tthis._viewZones = [];\n\t\tthis._decorations.clear();\n\t\tthis._ctxHasEditorModification.reset();\n\t}\n\n\tprivate _updateWithDiff(entry: IModifiedFileEntry, diff: IDocumentDiff | null | undefined): void {\n\t\tif (!diff) {\n\t\t\tthis._clearRendering();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._ctxHasEditorModification.set(true);\n\t\tconst originalModel = entry.originalModel;\n\n\t\t// original view zone\n\n\t\tthis._editor.changeViewZones((viewZoneChangeAccessor) => {\n\t\t\tfor (const id of this._viewZones) {\n\t\t\t\tviewZoneChangeAccessor.removeZone(id);\n\t\t\t}\n\t\t\tthis._viewZones = [];\n\t\t\tconst modifiedDecorations: IModelDeltaDecoration[] = [];\n\t\t\tconst mightContainNonBasicASCII = originalModel.mightContainNonBasicASCII();\n\t\t\tconst mightContainRTL = originalModel.mightContainRTL();\n\t\t\tconst renderOptions = RenderOptions.fromEditor(this._editor);\n\n\t\t\tfor (const diffEntry of diff.changes) {\n\t\t\t\tconst originalRange = diffEntry.original;\n\t\t\t\toriginalModel.tokenization.forceTokenization(Math.max(1, originalRange.endLineNumberExclusive - 1));\n\t\t\t\tconst source = new LineSource(\n\t\t\t\t\toriginalRange.mapToLineArray(l => originalModel.tokenization.getLineTokens(l)),\n\t\t\t\t\t[],\n\t\t\t\t\tmightContainNonBasicASCII,\n\t\t\t\t\tmightContainRTL,\n\t\t\t\t);\n\t\t\t\tconst decorations: InlineDecoration[] = [];\n\t\t\t\tfor (const i of diffEntry.innerChanges || []) {\n\t\t\t\t\tdecorations.push(new InlineDecoration(\n\t\t\t\t\t\ti.originalRange.delta(-(diffEntry.original.startLineNumber - 1)),\n\t\t\t\t\t\tdiffDeleteDecoration.className!,\n\t\t\t\t\t\tInlineDecorationType.Regular\n\t\t\t\t\t));\n\t\t\t\t\tmodifiedDecorations.push({\n\t\t\t\t\t\trange: i.modifiedRange, options: {\n\t\t\t\t\t\t\t...diffAddDecoration,\n\t\t\t\t\t\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (!diffEntry.modified.isEmpty) {\n\t\t\t\t\tmodifiedDecorations.push({\n\t\t\t\t\t\trange: diffEntry.modified.toInclusiveRange()!, options: {\n\t\t\t\t\t\t\t...diffWholeLineAddDecoration,\n\t\t\t\t\t\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst domNode = document.createElement('div');\n\t\t\t\tdomNode.className = 'chat-editing-original-zone view-lines line-delete monaco-mouse-cursor-text';\n\t\t\t\tconst result = renderLines(source, renderOptions, decorations, domNode);\n\t\t\t\tconst viewZoneData: IViewZone = {\n\t\t\t\t\tafterLineNumber: diffEntry.modified.startLineNumber - 1,\n\t\t\t\t\theightInLines: result.heightInLines,\n\t\t\t\t\tdomNode,\n\t\t\t\t\tordinal: 50000 + 2 // more than https://github.com/microsoft/vscode/blob/bf52a5cfb2c75a7327c9adeaefbddc06d529dcad/src/vs/workbench/contrib/inlineChat/browser/inlineChatZoneWidget.ts#L42\n\t\t\t\t};\n\n\t\t\t\tthis._viewZones.push(viewZoneChangeAccessor.addZone(viewZoneData));\n\t\t\t}\n\n\t\t\tthis._decorations.set(modifiedDecorations);\n\t\t});\n\t}\n\n\trevealNext() {\n\t\tthis._reveal(true);\n\t}\n\n\trevealPrevious() {\n\t\tthis._reveal(false);\n\t}\n\n\tprivate _reveal(next: boolean) {\n\t\tconst position = this._editor.getPosition();\n\t\tif (!position) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst decorations: (Range | undefined)[] = this._decorations\n\t\t\t.getRanges()\n\t\t\t.sort((a, b) => Range.compareRangesUsingStarts(a, b));\n\n\t\t// TODO@jrieken this is slow and should be done smarter, e.g being able to read\n\t\t// only whole range decorations because the goal is to go from change to change, skipping\n\t\t// over word level changes\n\t\tfor (let i = 0; i < decorations.length; i++) {\n\t\t\tconst decoration = decorations[i];\n\t\t\tfor (let j = 0; j < decorations.length; j++) {\n\t\t\t\tif (i !== j && decoration && decorations[j]?.containsRange(decoration)) {\n\t\t\t\t\tdecorations[i] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcoalesceInPlace(decorations);\n\n\t\tif (decorations.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet idx = binarySearch(decorations, Range.fromPositions(position), Range.compareRangesUsingStarts);\n\t\tif (idx < 0) {\n\t\t\tidx = ~idx;\n\t\t}\n\n\t\tlet target: number;\n\t\tif (decorations[idx]?.containsPosition(position)) {\n\t\t\ttarget = idx + (next ? 1 : -1);\n\t\t} else {\n\t\t\ttarget = next ? idx : idx - 1;\n\t\t}\n\n\t\ttarget = (target + decorations.length) % decorations.length;\n\n\n\t\tconst targetPosition = decorations[target].getStartPosition();\n\t\tthis._editor.setPosition(targetPosition);\n\t\tthis._editor.revealPositionInCenter(targetPosition, ScrollType.Smooth);\n\t\tthis._editor.focus();\n\t}\n}\n"],
  "mappings": "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",
  "names": []
}
