var f=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var c=(n,i,l,t)=>{for(var e=t>1?void 0:t?m(i,l):i,r=n.length-1,o;r>=0;r--)(o=n[r])&&(e=(t?o(i,l,e):o(e))||e);return t&&e&&f(i,l,e),e},u=(n,i)=>(l,t)=>i(l,t,n);import{createHotClass as p}from"../../../../base/common/hotReloadHelpers.js";import{Disposable as v}from"../../../../base/common/lifecycle.js";import{autorunWithStore as h}from"../../../../base/common/observable.js";import S from"../../../../base/common/severity.js";import"../../../../editor/browser/editorBrowser.js";import{InlineCompletionsController as I}from"../../../../editor/contrib/inlineCompletions/browser/controller/inlineCompletionsController.js";import{InlineEditsAdapter as y}from"../../../../editor/contrib/inlineCompletions/browser/model/inlineEditsAdapter.js";import{IConfigurationService as E}from"../../../../platform/configuration/common/configuration.js";import{observableConfigValue as _}from"../../../../platform/observable/common/platformObservableUtils.js";import{ILanguageStatusService as L}from"../../../services/languageStatus/common/languageStatusService.js";let a=class extends v{constructor(l,t,e){super();this._editor=l;this._languageStatusService=t;this._configurationService=e;const r=I.get(this._editor);this._register(h((o,b)=>{if(!this._inlineCompletionInlineEdits.read(o))return;const s=r?.model.read(o);if(!s)return;const d=s.status.read(o),g={loading:{shortLabel:"",label:"Loading",loading:!0},ghostText:{shortLabel:"$(lightbulb)",label:"Inline Completion available",loading:!1},inlineEdit:{shortLabel:"$(lightbulb-sparkle)",label:"Inline Edit available",loading:!1},noSuggestion:{shortLabel:"$(circle-slash)",label:"No inline suggestion available",loading:!1}};b.add(this._languageStatusService.addStatus({accessibilityInfo:void 0,busy:g[d].loading,command:void 0,detail:"Inline Suggestions",id:"inlineSuggestions",label:{value:g[d].label,shortValue:g[d].shortLabel},name:"Inline Suggestions",selector:{pattern:s.textModel.uri.fsPath},severity:S.Info,source:"inlineSuggestions"}))}))}static hot=p(a);static Id="vs.editor.contrib.inlineCompletionLanguageStatusBarContribution";_inlineCompletionInlineEdits=_(y.experimentalInlineEditsEnabled,!1,this._configurationService)};a=c([u(1,L),u(2,E)],a);export{a as InlineCompletionLanguageStatusBarContribution};
