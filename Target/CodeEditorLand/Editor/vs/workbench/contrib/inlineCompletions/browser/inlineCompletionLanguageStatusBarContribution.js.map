{
  "version": 3,
  "sources": ["../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/workbench/contrib/inlineCompletions/browser/inlineCompletionLanguageStatusBarContribution.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createHotClass } from '../../../../base/common/hotReloadHelpers.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { autorunWithStore } from '../../../../base/common/observable.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { InlineCompletionsController } from '../../../../editor/contrib/inlineCompletions/browser/controller/inlineCompletionsController.js';\nimport { InlineEditsAdapter } from '../../../../editor/contrib/inlineCompletions/browser/model/inlineEditsAdapter.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { observableConfigValue } from '../../../../platform/observable/common/platformObservableUtils.js';\nimport { ILanguageStatusService } from '../../../services/languageStatus/common/languageStatusService.js';\n\nexport class InlineCompletionLanguageStatusBarContribution extends Disposable {\n\tpublic static readonly hot = createHotClass(InlineCompletionLanguageStatusBarContribution);\n\n\tpublic static Id = 'vs.editor.contrib.inlineCompletionLanguageStatusBarContribution';\n\n\tprivate readonly _inlineCompletionInlineEdits = observableConfigValue(InlineEditsAdapter.experimentalInlineEditsEnabled, false, this._configurationService);\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@ILanguageStatusService private readonly _languageStatusService: ILanguageStatusService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\tconst c = InlineCompletionsController.get(this._editor);\n\n\t\tthis._register(autorunWithStore((reader, store) => {\n\t\t\t// TODO always enable this feature!\n\t\t\tif (!this._inlineCompletionInlineEdits.read(reader)) { return; }\n\n\t\t\tconst model = c?.model.read(reader);\n\t\t\tif (!model) { return; }\n\n\t\t\tconst status = model.status.read(reader);\n\n\t\t\tconst statusMap: Record<typeof status, { shortLabel: string; label: string; loading: boolean }> = {\n\t\t\t\tloading: { shortLabel: '', label: 'Loading', loading: true, },\n\t\t\t\tghostText: { shortLabel: '$(lightbulb)', label: 'Inline Completion available', loading: false, },\n\t\t\t\tinlineEdit: { shortLabel: '$(lightbulb-sparkle)', label: 'Inline Edit available', loading: false, },\n\t\t\t\tnoSuggestion: { shortLabel: '$(circle-slash)', label: 'No inline suggestion available', loading: false, },\n\t\t\t};\n\n\t\t\tstore.add(this._languageStatusService.addStatus({\n\t\t\t\taccessibilityInfo: undefined,\n\t\t\t\tbusy: statusMap[status].loading,\n\t\t\t\tcommand: undefined,\n\t\t\t\tdetail: 'Inline Suggestions',\n\t\t\t\tid: 'inlineSuggestions',\n\t\t\t\tlabel: { value: statusMap[status].label, shortValue: statusMap[status].shortLabel },\n\t\t\t\tname: 'Inline Suggestions',\n\t\t\t\tselector: { pattern: model.textModel.uri.fsPath },\n\t\t\t\tseverity: Severity.Info,\n\t\t\t\tsource: 'inlineSuggestions',\n\t\t\t}));\n\t\t}));\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;AAKA,SAAS,sBAAsB;AAC/B,SAAS,kBAAkB;AAC3B,SAAS,wBAAwB;AACjC,OAAO,cAAc;AACrB,SAAS,mBAAmB;AAC5B,SAAS,mCAAmC;AAC5C,SAAS,0BAA0B;AACnC,SAAS,6BAA6B;AACtC,SAAS,6BAA6B;AACtC,SAAS,8BAA8B;AAEhC,IAAM,gDAAN,cAA4D,WAAW;AAAA,EAO7E,YACkB,SACwB,wBACD,uBACvC;AACD,UAAM;AAJW;AACwB;AACD;AAIxC,UAAM,IAAI,4BAA4B,IAAI,KAAK,OAAO;AAEtD,SAAK,UAAU,iBAAiB,CAAC,QAAQ,UAAU;AAElD,UAAI,CAAC,KAAK,6BAA6B,KAAK,MAAM,GAAG;AAAE;AAAA,MAAQ;AAE/D,YAAM,QAAQ,GAAG,MAAM,KAAK,MAAM;AAClC,UAAI,CAAC,OAAO;AAAE;AAAA,MAAQ;AAEtB,YAAM,SAAS,MAAM,OAAO,KAAK,MAAM;AAEvC,YAAM,YAA4F;AAAA,QACjG,SAAS,EAAE,YAAY,IAAI,OAAO,WAAW,SAAS,KAAM;AAAA,QAC5D,WAAW,EAAE,YAAY,gBAAgB,OAAO,+BAA+B,SAAS,MAAO;AAAA,QAC/F,YAAY,EAAE,YAAY,wBAAwB,OAAO,yBAAyB,SAAS,MAAO;AAAA,QAClG,cAAc,EAAE,YAAY,mBAAmB,OAAO,kCAAkC,SAAS,MAAO;AAAA,MACzG;AAEA,YAAM,IAAI,KAAK,uBAAuB,UAAU;AAAA,QAC/C,mBAAmB;AAAA,QACnB,MAAM,UAAU,MAAM,EAAE;AAAA,QACxB,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,IAAI;AAAA,QACJ,OAAO,EAAE,OAAO,UAAU,MAAM,EAAE,OAAO,YAAY,UAAU,MAAM,EAAE,WAAW;AAAA,QAClF,MAAM;AAAA,QACN,UAAU,EAAE,SAAS,MAAM,UAAU,IAAI,OAAO;AAAA,QAChD,UAAU,SAAS;AAAA,QACnB,QAAQ;AAAA,MACT,CAAC,CAAC;AAAA,IACH,CAAC,CAAC;AAAA,EACH;AAAA,EA7DD,OAgB8E;AAAA;AAAA;AAAA,EAC7E,OAAuB,MAAM,eAAe,6CAA6C;AAAA,EAEzF,OAAc,KAAK;AAAA,EAEF,+BAA+B,sBAAsB,mBAAmB,gCAAgC,OAAO,KAAK,qBAAqB;AAyC3J;AA9Ca,gDAAN;AAAA,EASJ;AAAA,EACA;AAAA,GAVU;",
  "names": []
}
