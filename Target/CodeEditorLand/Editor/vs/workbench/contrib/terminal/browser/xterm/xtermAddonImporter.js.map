{
  "version": 3,
  "sources": ["../../../../../../../../../../../Dependency/Land/Dependency/Editor/Source/vs/workbench/contrib/terminal/browser/xterm/xtermAddonImporter.ts"],
  "sourcesContent": ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ClipboardAddon as ClipboardAddonType } from '@xterm/addon-clipboard';\nimport type { ImageAddon as ImageAddonType } from '@xterm/addon-image';\nimport type { SearchAddon as SearchAddonType } from '@xterm/addon-search';\nimport type { SerializeAddon as SerializeAddonType } from '@xterm/addon-serialize';\nimport type { Unicode11Addon as Unicode11AddonType } from '@xterm/addon-unicode11';\nimport type { WebglAddon as WebglAddonType } from '@xterm/addon-webgl';\nimport { importAMDNodeModule } from '../../../../../amdX.js';\n\nexport interface IXtermAddonNameToCtor {\n\tclipboard: typeof ClipboardAddonType;\n\timage: typeof ImageAddonType;\n\tsearch: typeof SearchAddonType;\n\tserialize: typeof SerializeAddonType;\n\tunicode11: typeof Unicode11AddonType;\n\twebgl: typeof WebglAddonType;\n}\n\n// This interface lets a maps key and value be linked with generics\ninterface IImportedXtermAddonMap extends Map<keyof IXtermAddonNameToCtor, IXtermAddonNameToCtor[keyof IXtermAddonNameToCtor]> {\n\tget<K extends keyof IXtermAddonNameToCtor>(name: K): IXtermAddonNameToCtor[K] | undefined;\n\tset<K extends keyof IXtermAddonNameToCtor>(name: K, value: IXtermAddonNameToCtor[K]): this;\n}\n\nconst importedAddons: IImportedXtermAddonMap = new Map();\n\n/**\n * Exposes a simple interface to consumers, encapsulating the messy import xterm\n * addon import and caching logic.\n */\nexport class XtermAddonImporter {\n\tasync importAddon<T extends keyof IXtermAddonNameToCtor>(name: T): Promise<IXtermAddonNameToCtor[T]> {\n\t\tlet addon = importedAddons.get(name);\n\t\tif (!addon) {\n\t\t\tswitch (name) {\n\t\t\t\tcase 'clipboard': addon = (await importAMDNodeModule<typeof import('@xterm/addon-clipboard')>('@xterm/addon-clipboard', 'lib/addon-clipboard.js')).ClipboardAddon as IXtermAddonNameToCtor[T]; break;\n\t\t\t\tcase 'image': addon = (await importAMDNodeModule<typeof import('@xterm/addon-image')>('@xterm/addon-image', 'lib/addon-image.js')).ImageAddon as IXtermAddonNameToCtor[T]; break;\n\t\t\t\tcase 'search': addon = (await importAMDNodeModule<typeof import('@xterm/addon-search')>('@xterm/addon-search', 'lib/addon-search.js')).SearchAddon as IXtermAddonNameToCtor[T]; break;\n\t\t\t\tcase 'serialize': addon = (await importAMDNodeModule<typeof import('@xterm/addon-serialize')>('@xterm/addon-serialize', 'lib/addon-serialize.js')).SerializeAddon as IXtermAddonNameToCtor[T]; break;\n\t\t\t\tcase 'unicode11': addon = (await importAMDNodeModule<typeof import('@xterm/addon-unicode11')>('@xterm/addon-unicode11', 'lib/addon-unicode11.js')).Unicode11Addon as IXtermAddonNameToCtor[T]; break;\n\t\t\t\tcase 'webgl': addon = (await importAMDNodeModule<typeof import('@xterm/addon-webgl')>('@xterm/addon-webgl', 'lib/addon-webgl.js')).WebglAddon as IXtermAddonNameToCtor[T]; break;\n\t\t\t}\n\t\t\tif (!addon) {\n\t\t\t\tthrow new Error(`Could not load addon ${name}`);\n\t\t\t}\n\t\t\timportedAddons.set(name, addon);\n\t\t}\n\t\treturn addon as IXtermAddonNameToCtor[T];\n\t}\n}\n"],
  "mappings": ";;AAWA,SAAS,2BAA2B;AAiBpC,MAAM,iBAAyC,oBAAI,IAAI;AAMhD,MAAM,mBAAmB;AAAA,EAlChC,OAkCgC;AAAA;AAAA;AAAA,EAC/B,MAAM,YAAmD,MAA4C;AACpG,QAAI,QAAQ,eAAe,IAAI,IAAI;AACnC,QAAI,CAAC,OAAO;AACX,cAAQ,MAAM;AAAA,QACb,KAAK;AAAa,mBAAS,MAAM,oBAA6D,0BAA0B,wBAAwB,GAAG;AAA4C;AAAA,QAC/L,KAAK;AAAS,mBAAS,MAAM,oBAAyD,sBAAsB,oBAAoB,GAAG;AAAwC;AAAA,QAC3K,KAAK;AAAU,mBAAS,MAAM,oBAA0D,uBAAuB,qBAAqB,GAAG;AAAyC;AAAA,QAChL,KAAK;AAAa,mBAAS,MAAM,oBAA6D,0BAA0B,wBAAwB,GAAG;AAA4C;AAAA,QAC/L,KAAK;AAAa,mBAAS,MAAM,oBAA6D,0BAA0B,wBAAwB,GAAG;AAA4C;AAAA,QAC/L,KAAK;AAAS,mBAAS,MAAM,oBAAyD,sBAAsB,oBAAoB,GAAG;AAAwC;AAAA,MAC5K;AACA,UAAI,CAAC,OAAO;AACX,cAAM,IAAI,MAAM,wBAAwB,IAAI,EAAE;AAAA,MAC/C;AACA,qBAAe,IAAI,MAAM,KAAK;AAAA,IAC/B;AACA,WAAO;AAAA,EACR;AACD;",
  "names": []
}
