import{Promises as o}from"../../../../base/common/async.js";import{Emitter as n}from"../../../../base/common/event.js";import{Disposable as s}from"../../../../base/common/lifecycle.js";import{equals as a}from"../../../../base/common/objects.js";import"../../../../platform/userDataProfile/common/userDataProfile.js";import"./userDataProfile.js";class v extends s{_serviceBrand;_onDidChangeCurrentProfile=this._register(new n);onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event;_currentProfile;get currentProfile(){return this._currentProfile}constructor(r){super(),this._currentProfile=r}async updateCurrentProfile(r){if(a(this._currentProfile,r))return;const i=this._currentProfile;this._currentProfile=r;const e=[];this._onDidChangeCurrentProfile.fire({previous:i,profile:r,join(t){e.push(t)}}),await o.settled(e)}}export{v as UserDataProfileService};
